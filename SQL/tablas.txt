create table cliente (
    codcliente NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nrodoc VARCHAR2(100),
    apellido VARCHAR2(100),
    nombre VARCHAR2(100)
);

CREATE TABLE producto (
    codproducto NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    codigobarra VARCHAR2(100),
    desproducto VARCHAR2(100),
    precioventa NUMBER(10,2) NOT NULL,
    stock NUMBER NOT NULL
);

create table venta (
    codventa NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    fechaventa DATE DEFAULT SYSDATE,
    numventa VARCHAR2(100),
    codcliente NUMBER NOT NULL,
    totalventa NUMBER(18,5),
    CONSTRAINT fk_venta_cliente
        FOREIGN KEY (codcliente)
        REFERENCES cliente (codcliente)
);

create table ventadet (
    codventa NUMBER NOT NULL,
    codproducto NUMBER NOT NULL,
    cantidadventa NUMBER(18,5),
    precioventa number(18,5),
    totallinea number(18,5),
    numlinea number,
    CONSTRAINT fk_ventadet_venta
        FOREIGN KEY (codventa)
        REFERENCES venta (codventa),
    CONSTRAINT fk_ventadet_producto
        FOREIGN KEY (codproducto)
        REFERENCES producto (codproducto)
);